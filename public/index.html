<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Star Buy Premium Shop</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="app">
    <nav class="bottom-nav">
      <button class="nav-btn active" data-page="home">Home</button>
      <button class="nav-btn" data-page="wallet">Wallet</button>
      <button class="nav-btn" data-page="referral">Referral</button>
      <button class="nav-btn" data-page="account">Account</button>
      <button class="nav-btn" data-page="community">More</button>
    </nav>

    <div id="home" class="page active">
      <div class="header">
        <h1>Star Buy Premium Shop</h1>
        <p>Available Packages</p>
      </div>
      <div id="packages-list" class="packages-container"></div>
    </div>

    <div id="wallet" class="page">
      <div class="header">
        <h1>Wallet</h1>
      </div>
      <div class="balance-cards">
        <div class="balance-card">
          <span class="label">Main Balance</span>
          <span class="amount" id="main-balance">$0.00</span>
        </div>
        <div class="balance-card">
          <span class="label">Hold Balance</span>
          <span class="amount" id="hold-balance">$0.00</span>
        </div>
        <div class="balance-card">
          <span class="label">Referral Balance</span>
          <span class="amount" id="referral-balance-wallet">$0.00</span>
        </div>
      </div>
      <button class="btn btn-primary" onclick="showDepositForm()">+ Add Money</button>
      
      <div id="deposit-form" class="form-container hidden">
        <h3>Add Money</h3>
        <div class="form-group">
          <label>Select Payment Method</label>
          <select id="deposit-method">
            <option value="usdt">USDT (BEP20) - Min $10</option>
            <option value="bnb">BNB (BEP20) - Min $1</option>
            <option value="binance-pay">Binance Pay - Min $2</option>
          </select>
        </div>
        <div id="usdt-info" class="crypto-info">
          <p><strong>USDT Address:</strong> <span id="usdt-address">Not configured</span></p>
          <p class="note">Minimum Deposit: $10</p>
        </div>
        <div id="bnb-info" class="crypto-info hidden">
          <p><strong>BNB Address:</strong> <span id="bnb-address">Not configured</span></p>
          <p class="note">Minimum Deposit: $1</p>
        </div>
        <div id="binance-pay-info" class="crypto-info hidden">
          <p><strong>Binance Pay Name:</strong> <span id="binance-pay-name">Not configured</span></p>
          <p><strong>Binance Pay ID:</strong> <span id="binance-pay-id">Not configured</span></p>
          <p class="note">Minimum Deposit: $2</p>
        </div>
        <div class="form-group">
          <label>Amount (USD)</label>
          <input type="number" id="deposit-amount" min="1" step="0.01" placeholder="Enter amount">
        </div>
        <div class="form-group">
          <label id="tx-hash-label">Transaction Hash</label>
          <input type="text" id="tx-hash" placeholder="Enter transaction hash">
        </div>
        <button class="btn btn-primary" id="submit-deposit-btn" onclick="submitDeposit()">Submit Deposit</button>
        <button class="btn btn-secondary" onclick="hideDepositForm()">Cancel</button>
      </div>

      <div class="history-section">
        <h3>Deposit History</h3>
        <div id="deposit-history"></div>
      </div>
    </div>

    <div id="referral" class="page">
      <div class="header">
        <h1>Referral Program</h1>
      </div>
      <div class="balance-card large">
        <span class="label">Referral Balance</span>
        <span class="amount" id="ref-balance">$0.00</span>
      </div>
      <div class="referral-info">
        <p><strong>Your Referral Link:</strong></p>
        <div class="referral-link-box">
          <span id="referral-link"></span>
          <button class="btn btn-small" onclick="copyReferralLink()">Copy</button>
        </div>
        <p><strong>Total Successful Referrals:</strong> <span id="total-referrals">0</span></p>
      </div>
      <div class="transfer-section">
        <h3>Transfer to Main Balance</h3>
        <div class="form-group">
          <input type="number" id="transfer-amount" min="0.01" step="0.01" placeholder="Amount to transfer">
        </div>
        <button class="btn btn-primary" onclick="transferReferralBalance()">Transfer</button>
      </div>
    </div>

    <div id="account" class="page">
      <div class="header">
        <h1>My Account</h1>
      </div>
      <div class="account-info">
        <div class="info-row">
          <span class="label">User ID</span>
          <span class="value" id="user-id">-</span>
        </div>
        <div class="info-row">
          <span class="label">Username</span>
          <span class="value" id="username">-</span>
        </div>
        <div class="info-row">
          <span class="label">Join Date</span>
          <span class="value" id="join-date">-</span>
        </div>
        <div class="info-row">
          <span class="label">Main Balance</span>
          <span class="value" id="acc-main-balance">$0.00</span>
        </div>
        <div class="info-row">
          <span class="label">Hold Balance</span>
          <span class="value" id="acc-hold-balance">$0.00</span>
        </div>
        <div class="info-row">
          <span class="label">Referral Balance</span>
          <span class="value" id="acc-ref-balance">$0.00</span>
        </div>
      </div>

      <div class="history-section">
        <h3>Order History</h3>
        <div id="order-history"></div>
      </div>

      <div class="support-buttons">
        <a id="customer-support-btn" class="btn btn-secondary" target="_blank">Customer Support</a>
      </div>
    </div>

    <div id="community" class="page">
      <div class="header">
        <h1>Community & Info</h1>
      </div>
      <div class="community-links">
        <a id="telegram-channel-link" class="link-card" target="_blank">
          <span class="icon">ðŸ“¢</span>
          <span>Telegram Channel</span>
        </a>
        <a id="telegram-group-link" class="link-card" target="_blank">
          <span class="icon">ðŸ‘¥</span>
          <span>Telegram Group</span>
        </a>
        <a id="youtube-link" class="link-card" target="_blank">
          <span class="icon">ðŸŽ¬</span>
          <span>YouTube Channel</span>
        </a>
      </div>

      <div class="info-section">
        <h3>How It Works</h3>
        <ul>
          <li>Add money to your wallet using USDT or BNB</li>
          <li>Browse and select packages from the shop</li>
          <li>Complete your purchase with your wallet balance</li>
          <li>Share your referral link to earn rewards</li>
        </ul>
        <p class="note">Note: Balance cannot be withdrawn. Purchases are optional.</p>
      </div>
    </div>

    <div id="order-modal" class="modal hidden">
      <div class="modal-content">
        <h3>Order <span id="modal-package-name"></span></h3>
        <p class="price">Price: $<span id="modal-package-price"></span></p>
        <div class="form-group">
          <label id="modal-input-label">Enter required info</label>
          <input type="text" id="order-input" placeholder="Enter here">
        </div>
        <div class="form-group">
          <label>Upload Screenshot (Required)</label>
          <input type="file" id="order-screenshot" accept="image/*" required>
        </div>
        <button class="btn btn-primary" id="confirm-order-btn" onclick="confirmOrder()">Confirm Order</button>
        <button class="btn btn-secondary" onclick="closeOrderModal()">Cancel</button>
      </div>
    </div>
  </div>
  <script src="/js/app.js"></script>
</body>
</html>
